"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.InputValueTemplate = void 0;
const Models_1 = require("../../Models");
const TemplateUtils_1 = require("./TemplateUtils");
class InputValueTemplate {
    static resolve(f, prefix = 0) {
        var _a;
        let argsString = '';
        if (f.args) {
            const isArray = (_a = f.type.options) === null || _a === void 0 ? void 0 : _a.includes(Models_1.Options.array);
            if (f.args.length) {
                if (f.type.options && isArray) {
                    argsString = ` = [${f.args.map((a) => TemplateUtils_1.TemplateUtils.resolverForConnection(a, prefix + 1)).join(',\n')}]`;
                }
                else {
                    argsString = ` = ${f.args.map((a) => TemplateUtils_1.TemplateUtils.resolverForConnection(a, prefix + 1)).join('\n')}`;
                }
            }
            else {
                if (isArray) {
                    argsString = ` = []`;
                }
            }
        }
        return `${TemplateUtils_1.TemplateUtils.descriptionResolver(f.description, prefix)}${'\t'.repeat(prefix)}${f.name}: ${TemplateUtils_1.TemplateUtils.resolveType(f)}${argsString}${TemplateUtils_1.TemplateUtils.resolveDirectives(f.directives)}`;
    }
}
exports.InputValueTemplate = InputValueTemplate;
